<div>
    <h3>GPT Chat Completion API v2</h3>
    <p>This advanced component enables you to perform chat completion API calls with more dynamic capabilities and additional contexts.</p>

    <h3>Result Variable Name</h3>
    <p>The variable that stores the API completion response.</p>

    <h3>API options</h3>
    <p>Configuration options for the chat completion API, such as the model used, temperature, and token limit.</p>

    <h3>Messages</h3>
    <p>Defines a sub-flow that provides messages or context for the chat completion API. This allows you to prepend agent definitions, add external data, or use conditional logic to determine context.</p>

    <h3>Function (deprecated)</h3>
    <p><em>This flow is deprecated. Now you can register function in the messages flow.</em>
        <br>
        Allows dynamic registration of available functions that the agent can use during the conversation.</p>

    <h3>New message flow</h3>
    <p>This flow is executed after each GPT response or request. Use this flow to rwgister messages in your conversation.

    </p>

    <table class="table">
        <thead>
            <tr>
                <th scope="col">Field</th>
                <th scope="col">Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code class="status-prop" title="Click to copy expression">response</code></td>
                <td>Full response body as an associative array</td>
            </tr>
            <tr>
                <td><code class="status-prop" title="Click to copy expression">last_message</code></td>
                <td>Last message (returned from GPT) as associative array</td>
            </tr>
        </tbody>
    </table>

    <h3>OK flow</h3>
    <p>This flow is executed once the API call is finished and the result variable is ready for further actions.</p>


    Inside the <strong>OK flow</strong>, you can access response data through a variabole defined by <strong>Result Variable Name</strong> and it's properties.

    <table class="table">
        <thead>
            <tr>
                <th scope="col">Field</th>
                <th scope="col">Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code class="status-prop" title="Click to copy expression">response</code></td>
                <td>Full response body as an associative array</td>
            </tr>
            <tr>
                <td><code class="status-prop" title="Click to copy expression">messages</code></td>
                <td>Array of all messages in conversation. Available only when New messages flow is empty (for back compatibility)</td>
            </tr>
            <tr>
                <td><code class="status-prop" title="Click to copy expression">last_message</code></td>
                <td>Last message (returned from GPT) as associative array</td>
            </tr>
        </tbody>
    </table>

    <hr>

    <p>
        Check for more on available API options at <a href="https://platform.openai.com/docs/api-reference/chat" target="_blank">Chat Completion API Reference - OpenAI API</a>
    </p>

</div>
